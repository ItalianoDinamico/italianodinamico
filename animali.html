<!DOCTYPE html>
<html lang="it">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Flashcards Animali</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>

    <div class="main-title-container">
        <h3 class="main-title">
            100 animali in italiano
            <small>100 animals in Italian</small>
        </h3>
    </div>

    <div class="banner-box">
        <small>Spazio Banner Monetag</small>
    </div>

    <div class="scene" onclick="flipCard()">
        <div class="card">
            
            <div class="card__face card__face--front">
                <p class="hint-text">Italiano</p>
                <h2 class="word-text" id="front-text">Il cane</h2>
                <button class="audio-btn" onclick="playAudio(event, 'it')">üîä</button>
            </div>

            <div class="card__face card__face--back">
                <p class="hint-text">Translation</p>
                <h2 class="word-text" id="back-text">The dog</h2>
                <p class="example-text" id="esempio-retro"></p>
                <button class="audio-btn" onclick="playAudio(event, 'en')">üîä</button>
            </div>

        </div>
    </div>

    <div class="controls">
        <button id="btn-prev" class="btn-nav" onclick="prevCard()">Previous word</button>
        <button id="btn-next" class="btn-nav" onclick="nextCard()">Next word</button>
    </div>
    
    <p id="counter">1 / 100</p>

    <div class="footer-nav">
        <a href="flashcards.html" class="back-link">‚Üê Back to Topics</a>
    </div>

<script>
const mazzo = [
    { fronte: "Il cane", retro: "The dog", esempio: "Il cane abbaia forte.", esempioEn: "The dog barks loudly." },
    { fronte: "Il gatto", retro: "The cat", esempio: "Il gatto dorme sul divano.", esempioEn: "The cat sleeps on the sofa." },
    { fronte: "Il topo", retro: "The mouse", esempio: "Il topo mangia il formaggio.", esempioEn: "The mouse eats the cheese." },
    { fronte: "L'elefante", retro: "The elephant", esempio: "L'elefante ha una proboscide lunga.", esempioEn: "The elephant has a long trunk." },
    { fronte: "Il leone", retro: "The lion", esempio: "Il leone √® il re della foresta.", esempioEn: "The lion is the king of the forest." },
    { fronte: "La tigre", retro: "The tiger", esempio: "La tigre ha strisce nere.", esempioEn: "The tiger has black stripes." },
    { fronte: "L'orso", retro: "The bear", esempio: "L'orso ama il miele.", esempioEn: "The bear loves honey." },
    { fronte: "Il cavallo", retro: "The horse", esempio: "Il cavallo corre veloce.", esempioEn: "The horse runs fast." },
    { fronte: "La mucca", retro: "The cow", esempio: "La mucca ci d√† il latte.", esempioEn: "The cow gives us milk." },
    { fronte: "Il maiale", retro: "The pig", esempio: "Il maiale vive nella fattoria.", esempioEn: "The pig lives on the farm." },
    { fronte: "La pecora", retro: "The sheep", esempio: "La pecora ha la lana morbida.", esempioEn: "The sheep has soft wool." },
    { fronte: "La capra", retro: "The goat", esempio: "La capra salta sulle rocce.", esempioEn: "The goat jumps on the rocks." },
    { fronte: "Il coniglio", retro: "The rabbit", esempio: "Il coniglio mangia la carota.", esempioEn: "The rabbit eats the carrot." },
    { fronte: "L'anatra", retro: "The duck", esempio: "L'anatra nuota nel lago.", esempioEn: "The duck swims in the lake." },
    { fronte: "Il pollo", retro: "The chicken", esempio: "Il pollo becca il grano.", esempioEn: "The chicken pecks the grain." },
    { fronte: "Il gallo", retro: "The rooster", esempio: "Il gallo canta all'alba.", esempioEn: "The rooster crows at dawn." },
    { fronte: "Il tacchino", retro: "The turkey", esempio: "Il tacchino fa un verso strano.", esempioEn: "The turkey makes a strange sound." },
    { fronte: "L'asino", retro: "The donkey", esempio: "L'asino porta i pesi.", esempioEn: "The donkey carries weights." },
    { fronte: "La giraffa", retro: "The giraffe", esempio: "La giraffa ha il collo lungo.", esempioEn: "The giraffe has a long neck." },
    { fronte: "La scimmia", retro: "The monkey", esempio: "La scimmia mangia una banana.", esempioEn: "The monkey eats a banana." },
    { fronte: "Il cavalluccio marino", retro: "The seahorse", esempio: "Il cavalluccio marino √® piccolo.", esempioEn: "The seahorse is small." }
];

let indiceCorrente = 0;
const carta = document.querySelector('.card');
const fronteTxt = document.getElementById('front-text');
const retroTxt = document.getElementById('back-text');
const contatore = document.getElementById('counter');
const esempioTxt = document.getElementById('esempio-retro');
const btnPrev = document.getElementById('btn-prev');

function flipCard() {
    carta.classList.toggle('is-flipped');
}

function nextCard() {
    if (indiceCorrente === mazzo.length - 1) {
        window.location.href = 'flashcards.html';
        return;
    }
    if (carta.classList.contains('is-flipped')) {
        carta.classList.remove('is-flipped');
        setTimeout(() => cambiaDati(1), 300);
    } else {
        cambiaDati(1);
    }
}

function prevCard() {
    if (indiceCorrente > 0) {
        if (carta.classList.contains('is-flipped')) {
            carta.classList.remove('is-flipped');
            setTimeout(() => cambiaDati(-1), 300);
        } else {
            cambiaDati(-1);
        }
    }
}

function cambiaDati(direzione) {
    indiceCorrente += direzione;
    aggiornaContenuto();
}

function aggiornaContenuto() {
    const cardData = mazzo[indiceCorrente];
    fronteTxt.innerText = cardData.fronte;
    retroTxt.innerText = cardData.retro;
    
    // Mostra esempio italiano e traduzione inglese sotto
    esempioTxt.innerHTML = `
        <strong>Esempio:</strong> ${cardData.esempio}<br>
        <small style="color: #e0e0e0; font-style: italic; font-weight: normal; display: block; margin-top: 5px;">
            ${cardData.esempioEn}
        </small>
    `;
    
    contatore.innerText = (indiceCorrente + 1) + " / " + mazzo.length;
    btnPrev.disabled = (indiceCorrente === 0);
}

function playAudio(event, side) {
    event.stopPropagation();
    let testo = (side === 'it') ? mazzo[indiceCorrente].fronte : mazzo[indiceCorrente].esempio;
    const utterance = new SpeechSynthesisUtterance(testo);
    utterance.lang = 'it-IT';
    window.speechSynthesis.speak(utterance);
}

aggiornaContenuto();
</script>
</body>
</html>
